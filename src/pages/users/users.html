<!-- Content Header (Page header) -->
<Loading/>
<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1>All Users</h1>
            </div>
        </div>
    </div>
    <!-- /.container-fluid -->
</section>

<!-- Main content -->
<section class="content">
    <!-- Default box -->
    <div class="container-fluid">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">Users</h3>
            </div>
            <div class="card-body">
               
                    <!-- <DataTable
                      class="table table-hover table-striped"
                      :data="data"
                      :columns="columns"
                      :rowCallback="rowCallback"
                      :options="{
                        paging: true,
                        searching: true,
                        select: true,
                        editable: true,
                        scrollX:true
                      }"
                      ref="table"
                      width="100%"
                    >
                    </DataTable> -->
                    <DataTable 
                    :value="data"
                    v-model:filters="filters"
                    filterDisplay="row"
                    :loading="loading"
                    :rowsPerPageOptions="[5, 10, 20, 50]"
                    :rows="10"
                    :globalFilterFields="['displayName', 'email', 'UserPhone']"
                     tableStyle="min-width: 50rem" 
                     dataKey="id" 
                     showGridlines
                     scrollable 
                     scrollHeight="700px"
                      paginator
                      resizableColumns 
                      stripedRows 
                      columnResizeMode="fit"
                      ref="dt" >
                     <template #header>
                        <div class="flex justify-content-end">
                            <span class="p-input-icon-left">
                                <i class="pi pi-search" />
                                <Button icon="pi pi-external-link" label="Export" @click="exportCSV($event)" />
                                <InputText v-model="filters['global'].value" placeholder="Keyword Search" />
                            </span>
                        </div>  
                    </template>
                        <Column header="" style="min-width: 2rem">
                            <template #body="{ data }">
                                <div class="flex align-items-center gap-2">
                                    <img :alt="data.displayName" :src="`${data.imageUrl}`" style="width: 32px;border-radius: 50%;" />
                                </div>
                            </template>
                        </Column>
                        <Column field="displayName" header="Display Name" filterField="email" sortable style="min-width: 12rem">
                            <template #body="{ data }">
                                {{ data.displayName }}
                            </template>
                        </Column>
                        <Column field="email" header="Email" filterField="displayName" sortable style="min-width: 12rem">
                            <template #body="{ data }">
                                {{ data.email }}
                            </template>
                        </Column>
                        <Column field="phone" header="Phone" style="min-width: 12rem">
                            <template #body="{ data }">
                                {{ data.phone }}
                            </template>
                        </Column>
                        <Column field="address" header="Address" style="min-width: 12rem">
                            <template #body="{ data }">
                                {{ data.address }}
                            </template>
                        </Column>
                        <Column field="isDeleted" header="Is Deleted" style="min-width: 12rem">
                            <template #body="{ data }">
                                {{ data.isDeleted }}
                            </template>
                        </Column>
                        <Column field="approvedFlag" header="Is Banned" style="min-width: 12rem">
                            <template #body="{ data }">
                                {{ data.approvedFlag }}
                            </template>
                        </Column>
                        <Column field="withdrawBalance" header="Amount Owed" style="min-width: 12rem">
                            <template #body="{ data }">
                                {{ data.withdrawBalance }}
                            </template>
                        </Column>
                    </DataTable>
            </div>
            <!-- /.card-body -->
            <!-- /.card-footer-->
        </div>
    </div>
    <!-- /.card -->
</section>
<!-- /.content -->  
